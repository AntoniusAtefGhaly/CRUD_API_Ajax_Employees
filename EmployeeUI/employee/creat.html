<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="nofollow"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>






<div class="container">
  <br>
  <h1>Add employee</h1>
  <br>
  <form id="formid" method="post" action="https://localhost:44322/api/Employee">
    <div class="form-group" hidden>
      <label>ID</label>
      <input class="form-control" type="text" id="id" placeholder="id"><br>
    </div>

    <div class="form-group">
      <label> Name :</label>
      <input class="form-control" required type="text" id="name" placeholder="Name"><br>
    </div>
    <span id="name-val"  style="color: red;display: none;"> required</span>
    <div class="form-group">
      <label> Title :</label>
      <input class="form-control" required type="text" id="title" placeholder="title"><br>
    </div>
    <span id="title-val"  style="color: red;display: none;">title required</span>
    <div class="form-group">
      <label> Birth Date :</label>
      <input class="form-control" required type="datetime-local" id="birthDate" placeholder="Birth Date"><br>
    </div>
    <span id="birthDate-val"  style="color: red;display: none;">birthDate required</span>
    <div class="form-group">
      <label> hiring Date :</label>
      <input class="form-control" required type="datetime-local" id="hiringDate" placeholder="hiringDate"><br>
    <span id="hiringDate-val"  style="color: red;display: none;">hiring Date  required</span>
    </div>

    <div class="form-group">
      <label> department id :</label>
      <input class="form-control" required type="number" aria-required="true" id="departmentid"
        placeholder="department id" value="1"><br>
    <span id="departmentid-val"  style="color: red;display: none;">department id required</span>
    </div>
    <div class="form-group">
      <input type="button" type="submit" class="btn btn-success" value="Add New Employee" onclick="add()">
    </div>
  </form>
</div>
<script>

function add() {  
  valid=1;
    var name = $('#name').val();  
    if(name==""){
      document.getElementById("name-val").style.display="block";
     valid=0;
    }
    else{
      document.getElementById("name-val").style.display="none";
    }
    var title = $('#title').val(); 
    if(title==""){
      document.getElementById("title-val").style.display="block";
     valid=0;
    }
    else{
      document.getElementById("title-val").style.display="none";
    } 
    var hiringDate = $('#hiringDate').val();  
    if(hiringDate==""){
      document.getElementById("hiringDate-val").style.display="block";
     valid=0;
    }
    else{
      document.getElementById("hiringDate-val").style.display="none";
    } 
    
    var birthDate = $('#birthDate').val();  
    if(birthDate==""){
      document.getElementById("birthDate-val").style.display="block";
     valid=0;
    }
    else{
      document.getElementById("birthDate-val").style.display="none";
    } 

    var departmentid = $('#departmentid').val();  
    if(title==""){
      document.getElementById("departmentid-val").style.display="block";
     valid=0;
    }
    else{
      document.getElementById("departmentid-val").style.display="none";
    } 
  if(valid==1){
    $.ajax({  
        async: true,  
        url:"https://localhost:44322/api/Employee/",  
        method: "POST",  
        data: JSON.stringify({  
            '__metadata': {  
                'type': 'SP.Data.EmployeeListItem'  
            },  
            'name': name,  
            'title': title,  
            'hiringDate': hiringDate,  
            'birthDate': birthDate,  
            'departmentid': departmentid  
        }),  
        headers: {  
            "accept": "application/json;odata=verbose",  
            "content-type": "application/json;odata=verbose",  
            "X-RequestDigest": $("#__REQUESTDIGEST").val()  
        },  
        success: function(data) { 
          console.log(data)
          if(data==true)
          window.location.href = "../index.html";
          else
          alert("failed added incorrect department id") 
          
        },  
        error: function(error) {  
          alert("add employee failed ") 
            console.log(JSON.stringify(error));  
        }  
  
    })  
  }
} 
</script>